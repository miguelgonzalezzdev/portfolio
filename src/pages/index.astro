---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Hero from "../components/HeroSection.astro";
import ExperienceSection from "../components/ExperienceSection.astro";
import ProjectsSection from "../components/ProjectsSection.astro";
import AboutSection from "../components/AboutSection.astro";
---

<Layout title = "Portfolio - Miguel González García" description = "Portfolio profesional de Miguel González García, desarrollador web.">
	<Header />
	<main class="w-full flex flex-col items-center text-zinc-100 px-6">
		<Hero />
		<ExperienceSection />
		<ProjectsSection />
		<AboutSection />
	</main>
	<Footer />
	<button
		id="backToTop"
		class="fixed bottom-6 right-6 lg:bottom-8 lg:right-8 w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-r from-cyan-300 to-blue-500 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 opacity-0 invisible"
		aria-label="Volver al inicio"
	>
		<svg
			class="w-6 h-6 lg:w-8 lg:h-8 mx-auto"
			xmlns="http://www.w3.org/2000/svg"
			width="24"
			height="24"
			viewBox="0 0 24 24"
			fill="none"
			stroke="currentColor"
			stroke-width="1.5"
			stroke-linecap="round"
			stroke-linejoin="round"
			><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
				d="M12 5l0 14"></path><path d="M18 11l-6 -6"></path><path
				d="M6 11l6 -6"></path>
		</svg>
	</button>
	<script>
		const backToTopButton = document.getElementById("backToTop");

		if (backToTopButton) {
			// Mostrar/ocultar botón según el scroll
			window.addEventListener("scroll", () => {
				if (window.pageYOffset > 300) {
					backToTopButton.classList.remove("opacity-0", "invisible");
					backToTopButton.classList.add("opacity-100", "visible");
				} else {
					backToTopButton.classList.add("opacity-0", "invisible");
					backToTopButton.classList.remove("opacity-100", "visible");
				}
			});

			// Smooth scroll
			backToTopButton.addEventListener("click", () => {
				window.scrollTo({
					top: 0,
					behavior: "smooth",
				});
			});
		}

		// Smooth scroll para enlaces del nav
		document.querySelectorAll('nav a[href^="#"]').forEach((anchor) => {
			anchor.addEventListener("click", (e) => {
				e.preventDefault();
				const href = (e.target as HTMLAnchorElement).getAttribute(
					"href",
				);
				const target = document.querySelector(href || "");
				if (target) {
					target.scrollIntoView({
						behavior: "smooth",
						block: "start",
					});
				}
			});
		});

		// Animación de inicio
		document.addEventListener("DOMContentLoaded", () => {
			const heroText = document.getElementById("hero-text");
			const heroImg = document.getElementById("hero-img");

			if (heroText && heroImg) {
				setTimeout(() => {
					heroText.classList.add("slide-left-bounce");
					heroImg.classList.add("zoom-up");
				}, 50);
			}
		});
	</script>
</Layout>
